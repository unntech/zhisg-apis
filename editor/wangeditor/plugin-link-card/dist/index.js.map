{"version":3,"file":"index.js","mappings":"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","sources":["webpack://WangEditorPluginLinkCard/webpack/universalModuleDefinition","webpack://WangEditorPluginLinkCard/./src/asserts/index.less","webpack://WangEditorPluginLinkCard/./node_modules/css-loader/dist/runtime/api.js","webpack://WangEditorPluginLinkCard/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://WangEditorPluginLinkCard/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://WangEditorPluginLinkCard/external umd {\"commonjs\":\"@wangeditor/editor\",\"commonjs2\":\"@wangeditor/editor\",\"amd\":\"@wangeditor/editor\",\"root\":\"wangEditor\"}","webpack://WangEditorPluginLinkCard/webpack/bootstrap","webpack://WangEditorPluginLinkCard/webpack/runtime/compat get default export","webpack://WangEditorPluginLinkCard/webpack/runtime/define property getters","webpack://WangEditorPluginLinkCard/webpack/runtime/hasOwnProperty shorthand","webpack://WangEditorPluginLinkCard/webpack/runtime/make namespace object","webpack://WangEditorPluginLinkCard/./src/asserts/index.less?047f","webpack://WangEditorPluginLinkCard/./src/module/local.ts","webpack://WangEditorPluginLinkCard/./node_modules/snabbdom/build/vnode.js","webpack://WangEditorPluginLinkCard/./node_modules/snabbdom/build/is.js","webpack://WangEditorPluginLinkCard/./node_modules/snabbdom/build/h.js","webpack://WangEditorPluginLinkCard/./src/module/render-elem.ts","webpack://WangEditorPluginLinkCard/./src/module/menu/ConvertToLinkCard.ts","webpack://WangEditorPluginLinkCard/./src/module/index.ts","webpack://WangEditorPluginLinkCard/./src/index.ts","webpack://WangEditorPluginLinkCard/./src/module/plugin.ts","webpack://WangEditorPluginLinkCard/./src/module/elem-to-html.ts","webpack://WangEditorPluginLinkCard/./src/module/parse-elem-html.ts","webpack://WangEditorPluginLinkCard/./src/module/menu/index.ts","webpack://WangEditorPluginLinkCard/./src/module/menu/config.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@wangeditor/editor\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@wangeditor/editor\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WangEditorPluginLinkCard\"] = factory(require(\"@wangeditor/editor\"));\n\telse\n\t\troot[\"WangEditorPluginLinkCard\"] = factory(root[\"wangEditor\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__857__) => {\nreturn ","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".w-e-textarea-link-card-container {\\n  width: 450px;\\n  margin: 10px auto;\\n  background-color: var(--w-e-textarea-slight-bg-color);\\n  border-radius: 10px;\\n  display: flex;\\n  padding: 10px 20px;\\n}\\n.w-e-textarea-link-card-text-container {\\n  flex: 1;\\n  padding-right: 20px;\\n}\\n.w-e-textarea-link-card-text-container p {\\n  margin-top: 5px !important;\\n  font-weight: bold;\\n}\\n.w-e-textarea-link-card-text-container span {\\n  opacity: 0.5;\\n}\\n.w-e-textarea-link-card-icon-container {\\n  width: 64px;\\n  overflow: hidden;\\n}\\n.w-e-textarea-link-card-icon-container img {\\n  width: 100%;\\n  height: 100%;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/asserts/index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAA;EACA,iBAAA;EACA,qDAAA;EACA,mBAAA;EACA,aAAA;EACA,kBAAA;AACF;AAEA;EACE,OAAA;EACA,mBAAA;AAAF;AAFA;EAKI,0BAAA;EACA,iBAAA;AAAJ;AANA;EAUI,YAAA;AADJ;AAKA;EACE,WAAA;EACA,gBAAA;AAHF;AACA;EAKI,WAAA;EACA,YAAA;EACA,sBAAA;KAAA,mBAAA;AAHJ\",\"sourcesContent\":[\".w-e-textarea-link-card-container {\\n  width: 450px;\\n  margin: 10px auto;\\n  background-color: var(--w-e-textarea-slight-bg-color);\\n  border-radius: 10px;\\n  display: flex;\\n  padding: 10px 20px;\\n}\\n\\n.w-e-textarea-link-card-text-container {\\n  flex: 1;\\n  padding-right: 20px;\\n\\n  p {\\n    margin-top: 5px !important;\\n    font-weight: bold;\\n  }\\n\\n  span {\\n    opacity: .5;\\n  }\\n}\\n\\n.w-e-textarea-link-card-icon-container {\\n  width: 64px;\\n  overflow: hidden;\\n\\n  img {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: contain;\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","module.exports = __WEBPACK_EXTERNAL_MODULE__857__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js!./index.less\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @description 多语言\n * @author wangfupeng\n */\n\nimport { i18nAddResources } from '@wangeditor/editor'\n\ni18nAddResources('en', {\n  linkCard: {\n    toCard: 'To Card',\n    // delete: 'Delete',\n  },\n})\n\ni18nAddResources('zh-CN', {\n  linkCard: {\n    toCard: '转为卡片',\n    // delete: '删除',\n  },\n})\n","export function vnode(sel, data, children, text, elm) {\n    const key = data === undefined ? undefined : data.key;\n    return { sel, data, children, text, elm, key };\n}\n//# sourceMappingURL=vnode.js.map","export const array = Array.isArray;\nexport function primitive(s) {\n    return (typeof s === \"string\" ||\n        typeof s === \"number\" ||\n        s instanceof String ||\n        s instanceof Number);\n}\n//# sourceMappingURL=is.js.map","import { vnode } from \"./vnode\";\nimport * as is from \"./is\";\nexport function addNS(data, children, sel) {\n    data.ns = \"http://www.w3.org/2000/svg\";\n    if (sel !== \"foreignObject\" && children !== undefined) {\n        for (let i = 0; i < children.length; ++i) {\n            const child = children[i];\n            if (typeof child === \"string\")\n                continue;\n            const childData = child.data;\n            if (childData !== undefined) {\n                addNS(childData, child.children, child.sel);\n            }\n        }\n    }\n}\nexport function h(sel, b, c) {\n    let data = {};\n    let children;\n    let text;\n    let i;\n    if (c !== undefined) {\n        if (b !== null) {\n            data = b;\n        }\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c.toString();\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined && b !== null) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b.toString();\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (children !== undefined) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n        }\n    }\n    if (sel[0] === \"s\" &&\n        sel[1] === \"v\" &&\n        sel[2] === \"g\" &&\n        (sel.length === 3 || sel[3] === \".\" || sel[3] === \"#\")) {\n        addNS(data, children, sel);\n    }\n    return vnode(sel, data, children, text, undefined);\n}\n/**\n * @experimental\n */\nexport function fragment(children) {\n    let c;\n    let text;\n    if (is.array(children)) {\n        c = children;\n    }\n    else if (is.primitive(c)) {\n        text = children;\n    }\n    else if (c && c.sel) {\n        c = [children];\n    }\n    if (c !== undefined) {\n        for (let i = 0; i < c.length; ++i) {\n            if (is.primitive(c[i]))\n                c[i] = vnode(undefined, undefined, undefined, c[i], undefined);\n        }\n    }\n    return vnode(undefined, {}, c, text, undefined);\n}\n//# sourceMappingURL=h.js.map","/**\n * @description render elem\n * @author wangfupeng\n */\n\nimport { h, VNode } from 'snabbdom'\nimport { DomEditor, IDomEditor, SlateElement } from '@wangeditor/editor'\nimport { LinkCardElement } from './custom-types'\n\nconst DEFAULT_ICON_IMG_SRC =\n  'data:image/png;base64,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'\n\nfunction renderLinkCard(elem: SlateElement, children: VNode[] | null, editor: IDomEditor): VNode {\n  const selected = DomEditor.isNodeSelected(editor, elem) // 当前节点是否选中\n  const { title, link, iconImgSrc } = elem as LinkCardElement\n\n  // 文字部分\n  const infoVnode = h(\n    'div',\n    {\n      props: {\n        className: 'w-e-textarea-link-card-text-container',\n      },\n    },\n    [h('p', {}, title), h('span', {}, link)]\n  )\n\n  // 图片部分\n  const iconVnode = h(\n    'div',\n    {\n      props: {\n        className: 'w-e-textarea-link-card-icon-container',\n      },\n    },\n    [h('img', { props: { src: iconImgSrc || DEFAULT_ICON_IMG_SRC } })]\n  )\n\n  // 容器\n  const vnode = h(\n    'div',\n    {\n      props: {\n        contentEditable: false,\n        className: 'w-e-textarea-link-card-container',\n      },\n      dataset: {\n        selected: selected ? 'true' : '', // 标记为 选中\n      },\n      on: {\n        mousedown: event => event.preventDefault(),\n      },\n    },\n    [infoVnode, iconVnode]\n  )\n\n  return vnode\n}\n\nconst conf = {\n  type: 'link-card', // 节点 type ，重要！！！\n  renderElem: renderLinkCard,\n}\n\nexport default conf\n","/**\n * @description convert link elem to link-card\n * @author wangfupeng\n */\n\nimport {\n  IDomEditor,\n  DomEditor,\n  t,\n  SlateNode,\n  SlateTransforms,\n  SlateEditor,\n} from '@wangeditor/editor'\nimport { IButtonMenu } from '@wangeditor/editor'\nimport { LinkCardElement, LinkElement } from '../custom-types'\n\nclass ConvertToLinkCard implements IButtonMenu {\n  readonly title = t('linkCard.toCard')\n  readonly iconSvg = '' // 无 icon\n  readonly tag = 'button'\n\n  private getSelectedLinkElem(editor: IDomEditor): LinkElement | null {\n    const node = DomEditor.getSelectedNodeByType(editor, 'link')\n    if (node == null) return null\n    return node as LinkElement\n  }\n\n  getValue(editor: IDomEditor): string | boolean {\n    return ''\n  }\n\n  isActive(editor: IDomEditor): boolean {\n    // 无需 active\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    if (editor.selection == null) return true\n\n    const linkElem = this.getSelectedLinkElem(editor)\n    if (linkElem == null) {\n      // 选区未处于 link node ，则禁用\n      return true\n    }\n    return false\n  }\n\n  async exec(editor: IDomEditor, value: string | boolean) {\n    if (this.isDisabled(editor)) return\n\n    const linkElem = this.getSelectedLinkElem(editor)\n    if (linkElem == null) return\n\n    const { getLinkCardInfo } = editor.getMenuConfig('convertToLinkCard')\n    if (typeof getLinkCardInfo !== 'function') return\n\n    const { url } = linkElem\n    const text = SlateNode.string(linkElem)\n\n    try {\n      const { title, iconImgSrc } = await getLinkCardInfo(text, url) // 异步生成 link-card 信息\n\n      const linkPath = DomEditor.findPath(editor, linkElem)\n      SlateTransforms.removeNodes(editor, { at: linkPath })\n      SlateTransforms.splitNodes(editor, { always: true })\n\n      const linkCard: LinkCardElement = {\n        type: 'link-card',\n        link: url,\n        title,\n        iconImgSrc,\n        children: [{ text: '' }],\n      }\n      SlateTransforms.insertNodes(editor, linkCard)\n    } catch (err) {\n      console.error('Convert to link-cart error', err)\n    }\n  }\n}\n\nexport default ConvertToLinkCard\n","/**\n * @description module entry\n * @author wangfupeng\n */\n\nimport './local' // 多语言\n\nimport { IModuleConf } from '@wangeditor/editor'\nimport withLinkCard from './plugin'\nimport renderElemConf from './render-elem'\nimport elemToHtmlConf from './elem-to-html'\nimport parseHtmlConf from './parse-elem-html'\nimport { convertToLinkCardMenuConf } from './menu/index'\n\nconst module: Partial<IModuleConf> = {\n  editorPlugin: withLinkCard,\n  renderElems: [renderElemConf],\n  elemsToHtml: [elemToHtmlConf],\n  parseElemsHtml: [parseHtmlConf],\n  menus: [convertToLinkCardMenuConf],\n}\n\nexport default module\n","/**\n * @description src entry\n * @author wangfupeng\n */\n\nimport './asserts/index.less'\n\nimport module from './module/index'\n\nexport * from './module/custom-types'\n\nexport default module\n","/**\n * @description link-card plugin\n * @author wangfupeng\n */\n\nimport { DomEditor, IDomEditor, SlateTransforms } from '@wangeditor/editor'\n\nfunction withLinkCard<T extends IDomEditor>(editor: T) {\n  const { isVoid, normalizeNode } = editor\n  const newEditor = editor\n\n  // 重写 isVoid\n  newEditor.isVoid = elem => {\n    const type = DomEditor.getNodeType(elem)\n    if (type === 'link-card') {\n      return true\n    }\n\n    return isVoid(elem)\n  }\n\n  // 重新 normalize\n  newEditor.normalizeNode = ([node, path]) => {\n    const type = DomEditor.getNodeType(node)\n    if (type !== 'link-card') {\n      // 未命中 link-card ，执行默认的 normalizeNode\n      return normalizeNode([node, path])\n    }\n\n    // editor 顶级 node\n    const topLevelNodes = newEditor.children || []\n\n    // --------------------- link-card 后面必须跟一个 p header blockquote（否则后面无法继续输入文字） ---------------------\n    const nextNode = topLevelNodes[path[0] + 1] || {}\n    const nextNodeType = DomEditor.getNodeType(nextNode)\n    if (\n      nextNodeType !== 'paragraph' &&\n      nextNodeType !== 'blockquote' &&\n      !nextNodeType.startsWith('header')\n    ) {\n      // link-card node 后面不是 p 或 header ，则插入一个空 p\n      const p = { type: 'paragraph', children: [{ text: '' }] }\n      const insertPath = [path[0] + 1]\n      SlateTransforms.insertNodes(newEditor, p, {\n        at: insertPath, // 在 link-card 后面插入\n      })\n    }\n  }\n\n  return newEditor\n}\n\nexport default withLinkCard\n","/**\n * @description elem to html\n * @author wangfupeng\n */\n\nimport { SlateElement } from '@wangeditor/editor'\nimport { LinkCardElement } from './custom-types'\n\n// 生成 html 的函数\nfunction linkCardToHtml(elem: SlateElement, childrenHtml: string): string {\n  const { title = '', link = '', iconImgSrc = '' } = elem as LinkCardElement\n  const html = `<div data-w-e-type=\"link-card\" data-w-e-is-void data-title=\"${title}\" data-link=\"${link}\" data-iconImgSrc=\"${iconImgSrc}\">\n    <div class=\"info-container\">\n      <div class=\"title-container\"><p>${title}</p></div>\n      <div class=\"link-container\"><span>${link}</span></div>\n    </div>\n    <div class=\"icon-container\">\n      <img src=\"${iconImgSrc}\"/>\n    </div>\n  </div>`\n  return html\n}\n\n// 配置\nconst conf = {\n  type: 'link-card', // 节点 type ，重要！！！\n  elemToHtml: linkCardToHtml,\n}\n\nexport default conf\n","/**\n * @description parse elem html\n * @author wangfupeng\n */\n\nimport { DOMElement } from '../utils/dom'\nimport { IDomEditor, SlateDescendant, SlateElement } from '@wangeditor/editor'\nimport { LinkCardElement } from './custom-types'\n\nfunction parseHtml(\n  elem: DOMElement,\n  children: SlateDescendant[],\n  editor: IDomEditor\n): SlateElement {\n  const link = elem.getAttribute('data-link') || ''\n  const title = elem.getAttribute('data-title') || ''\n  const iconImgSrc = elem.getAttribute('data-iconImgSrc') || ''\n  return {\n    type: 'link-card',\n    link,\n    title,\n    iconImgSrc,\n    children: [{ text: '' }], // void node 必须有一个空白 text\n  } as LinkCardElement\n}\n\nconst parseHtmlConf = {\n  selector: 'div[data-w-e-type=\"link-card\"]',\n  parseElemHtml: parseHtml,\n}\n\nexport default parseHtmlConf\n","/**\n * @description menu index\n * @author wangfupeng\n */\n\nimport ConvertToLinkCard from './ConvertToLinkCard'\nimport { genConvertToLinkCardConfig } from './config'\n\nexport const convertToLinkCardMenuConf = {\n  key: 'convertToLinkCard',\n  factory() {\n    return new ConvertToLinkCard()\n  },\n\n  // 默认的菜单菜单配置，将存储在 editorConfig.MENU_CONF[key] 中\n  // 创建编辑器时，可通过 editorConfig.MENU_CONF[key] = {...} 来修改\n  config: genConvertToLinkCardConfig(),\n}\n","/**\n * @description menu config\n * @author wangfupeng\n */\n\nexport function genConvertToLinkCardConfig() {\n  return {\n    /**\n     * 异步获取 link-card 信息（可能需要在服务端获取）\n     * @param linkText link text\n     * @param linkUrl link url\n     * @returns link-card info\n     */\n    async getLinkCardInfo(\n      linkText: string,\n      linkUrl: string\n    ): Promise<{ title: string; iconImgSrc: string }> {\n      // 该函数，用户自定义配置\n      // 1. 使用 iframe 加载 linkUrl 来获取 title 和 iconImgSrc\n      // 2. 但有些网页禁止跨域 iframe 加载（即 X-Frame-Options），此时需要在服务端获取\n\n      return new Promise(resolve => {\n        setTimeout(() => {\n          const info = { title: linkText, iconImgSrc: '' }\n          resolve(info)\n        }, 100)\n      })\n    },\n  }\n}\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__857__","___CSS_LOADER_EXPORT___","push","id","cssWithMappingToString","list","toString","this","map","item","content","concat","join","i","modules","mediaQuery","dedupe","alreadyImportedModules","length","_i","_arrayLikeToArray","arr","len","arr2","Array","_item","isArray","_arrayWithHoles","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","value","err","_iterableToArrayLimit","o","minLen","n","Object","prototype","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","memo","getTarget","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","index","obj","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","keys","forEach","key","setAttribute","insert","Error","appendChild","textStore","replaceText","replacement","filter","Boolean","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","update","styleIndex","bind","parentNode","removeStyleElement","newObj","all","atob","lastIdentifiers","newList","newLastIdentifiers","_index","splice","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","d","a","definition","defineProperty","enumerable","get","prop","hasOwnProperty","r","toStringTag","i18nAddResources","linkCard","toCard","sel","children","text","elm","array","primitive","s","String","Number","addNS","ns","child","childData","h","b","c","type","renderElem","elem","editor","selected","DomEditor","title","link","iconImgSrc","infoVnode","props","className","iconVnode","src","contentEditable","dataset","on","mousedown","event","preventDefault","t","iconSvg","tag","getSelectedLinkElem","node","getValue","isActive","isDisabled","selection","exec","linkElem","getLinkCardInfo","getMenuConfig","url","SlateNode","linkPath","SlateTransforms","at","always","console","error","editorPlugin","isVoid","normalizeNode","newEditor","path","nextNode","nextNodeType","startsWith","insertPath","renderElems","elemsToHtml","elemToHtml","childrenHtml","parseElemsHtml","selector","parseElemHtml","getAttribute","menus","config","linkText","linkUrl","Promise","resolve","setTimeout"],"sourceRoot":""}